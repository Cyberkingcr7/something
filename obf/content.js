function a3_0x1fce(){const _0x4ee100=['5px','join','length','stringify','8px','rangeCount','marginBottom','monthly','Copied\x20to\x20clipboard:','placeholder','documentElement','clientY','tabIndex','offset','852774etPsGj','chunk','No\x20active\x20element.','includes','readText','0\x204px\x2012px\x20rgba(0,0,0,0.2)','safeGetStorage\x20failed\x20after\x20retries,\x20returning\x20empty\x20object.','5260760YwyygI','indexOf','forEach','bnh','lastError','20px','13px','safeGetStorage\x20attempt\x20','status','innerText','clipkey-popup-response','metaKey','insertNode','activeElement','3002144YwovXe','fontWeight','50%','free','border-box','1872510rTQSEX','preventDefault','storage','bold','clipkey-popup-input','caretPositionFromPoint','createTextNode','12bJJycv','isContentEditable','1466050gnHGNE','substring','processClipboard\x20error:','addEventListener','silentInsertAtCaret\x20failed:','focus','startOffset','\x20failed:','remove','map','Send','style','type','getClipboardText\x20error:','expiryTimestamp','Enter\x20text\x20or\x20API\x20key...','getElementById','select','topChunks','getRangeAt','value','closest','keydown\x20handler\x20error:','offsetNode','useGuide','https://clipkey-server.onrender.com/api/studyguide/content?apiKey=','local','white','TEXTAREA','clipkey-popup-container','2547552ExKMcj','.que','auto','pointer','position','100px','Active\x20element\x20not\x20supported.','‚ùå\x20Could\x20not\x20find\x20question\x20wrapper','277639IxjRZB','selectionEnd','‚ùå\x20AI\x20returned\x20no\x20answer','warn','No\x20text\x20found\x20and\x20no\x20key\x20available.','dispatchEvent','6px','runtime','max','‚ö†\x20Error\x20processing\x20text.','‚ùå\x20No\x20textarea\x20found\x20to\x20insert\x20answer','10000','1px\x20solid\x20#ccc','https://clipkey-server.onrender.com/ai','button','-2000px','trim','textarea','\x0a\x0aQuestion:\x0a','absolute','safeSetStorage\x20failed\x20after\x20retries.','userType','startsWith','clipboard','https://clipkey-server.onrender.com/api/studyguide/subjects?apiKey=','copy','Click\x20handler\x20error:','300px','chrome.storage.local\x20unavailable','target','Buffered\x20sentence:','log','createElement','‚è≥\x20Processing...','2px\x20solid\x20#ccc','14px','‚úÖ\x20Key\x20Activated!\x20Access\x20granted.','top','insertText','getSelection','20%','some','collapse','cursor','üìö\x20Relevant\x20Study\x20Guide\x20Chunks:','‚ùå\x20Invalid\x20Key.','click','translateX(-50%)','appendChild','querySelectorAll','‚úÖ\x20Answer\x20inserted\x20into\x20question\x20textarea','get','&subject=','selectionStart','selectedSubject','10px','OFF','deleteContents','60%','answer','slice','error','ü§ñ\x20AI\x20Answer:','.qtext','clientX','8px\x2016px','now','body','transparent','toLowerCase','200px','POST','copyToClipboard\x20fallback\x20failed:','keydown','Enter','execCommand','application/json','chunks','TEXT_NODE','createRange','div','üìå\x20Flag\x20button\x20clicked\x20‚Äî\x20extracting\x20question...','16px','INPUT','ctrlKey','üì§\x20Sending\x20to\x20AI...','lastIndexOf','textContent','safeSetStorage\x20attempt\x20','fixed','shiftKey','startContainer','assign','https://clipkey-server.onrender.com/api/activate','400px','tagName','a.aabtn[title=\x27Flag\x20this\x20question\x20for\x20future\x20reference\x27]','clipkey-chunks-popup','input','data','getAIResponse\x20error:','setStart','\x0a\x0aOptions:\x0a','apiKey','json','progress','onclick','querySelector','key','Study\x20guide:\x0a','none','#fff','toString'];a3_0x1fce=function(){return _0x4ee100;};return a3_0x1fce();}const a3_0x386f72=a3_0x1778;(function(_0x2d3578,_0x482f8a){const _0x3898d6=a3_0x1778,_0x25de63=_0x2d3578();while(!![]){try{const _0x93f14=-parseInt(_0x3898d6(0x11a))/0x1+parseInt(_0x3898d6(0xf4))/0x2+parseInt(_0x3898d6(0x199))/0x3+-parseInt(_0x3898d6(0xe6))/0x4+-parseInt(_0x3898d6(0xeb))/0x5*(-parseInt(_0x3898d6(0xf2))/0x6)+parseInt(_0x3898d6(0x112))/0x7+-parseInt(_0x3898d6(0xd8))/0x8;if(_0x93f14===_0x482f8a)break;else _0x25de63['push'](_0x25de63['shift']());}catch(_0x5f5579){_0x25de63['push'](_0x25de63['shift']());}}}(a3_0x1fce,0x6c825));let isBusy=![],leftClickEnabled=!![],sentenceBuffer=[],copyTimeout=null;async function safeGetStorage(_0x13968e,_0x1bc963=0x3,_0x22dba2=0xc8){const _0x3e24ab=a3_0x1778;for(let _0x151726=0x0;_0x151726<_0x1bc963;_0x151726++){try{if(!chrome?.[_0x3e24ab(0xed)]?.['local'])throw new Error('chrome.storage.local\x20unavailable');const _0x12976a=await new Promise((_0x1c5272,_0x1477a1)=>{const _0x2fd0b9=_0x3e24ab;chrome[_0x2fd0b9(0xed)][_0x2fd0b9(0x10e)][_0x2fd0b9(0x14d)](_0x13968e,_0x1c35b4=>{const _0x31bebe=_0x2fd0b9;if(chrome[_0x31bebe(0x121)]['lastError'])_0x1477a1(chrome['runtime']['lastError']);else _0x1c5272(_0x1c35b4||{});});});return _0x12976a;}catch(_0x2ef127){console[_0x3e24ab(0x11d)](_0x3e24ab(0xdf)+(_0x151726+0x1)+'\x20failed:',_0x2ef127);if(_0x151726<_0x1bc963-0x1)await new Promise(_0x53372e=>setTimeout(_0x53372e,_0x22dba2));}}return console[_0x3e24ab(0x157)](_0x3e24ab(0xd7)),{};}async function safeSetStorage(_0x4e0414,_0x118da3=0x3,_0x4aa0cf=0xc8){const _0x268f2c=a3_0x1778;for(let _0x3199b8=0x0;_0x3199b8<_0x118da3;_0x3199b8++){try{if(!chrome?.[_0x268f2c(0xed)]?.[_0x268f2c(0x10e)])throw new Error(_0x268f2c(0x136));await new Promise((_0x5f1eb6,_0x1748d1)=>{chrome['storage']['local']['set'](_0x4e0414,()=>{const _0x95629a=a3_0x1778;if(chrome[_0x95629a(0x121)]['lastError'])_0x1748d1(chrome[_0x95629a(0x121)][_0x95629a(0xdc)]);else _0x5f1eb6();});});return;}catch(_0x14dfc1){console[_0x268f2c(0x11d)](_0x268f2c(0x172)+(_0x3199b8+0x1)+_0x268f2c(0xfb),_0x14dfc1);if(_0x3199b8<_0x118da3-0x1)await new Promise(_0x9406d8=>setTimeout(_0x9406d8,_0x4aa0cf));}}console[_0x268f2c(0x157)](_0x268f2c(0x12e));}function setCursorLoading(_0x3df5f1){const _0x40231d=a3_0x1778;if(document['body'])document[_0x40231d(0x15d)][_0x40231d(0xff)]['cursor']=_0x3df5f1?'progress':'';if(document[_0x40231d(0x195)])document[_0x40231d(0x195)][_0x40231d(0xff)][_0x40231d(0x145)]=_0x3df5f1?_0x40231d(0x183):'';}async function getClipboardText(){const _0x3cf93b=a3_0x1778;try{return await navigator['clipboard'][_0x3cf93b(0xd5)]();}catch(_0x23cffd){return console[_0x3cf93b(0x157)](_0x3cf93b(0x101),_0x23cffd),'';}}async function copyToClipboard(_0xd9910b){const _0x5a2233=a3_0x1778;try{await navigator[_0x5a2233(0x131)]['writeText'](_0xd9910b);}catch{try{const _0x2a99dc=document[_0x5a2233(0x13a)](_0x5a2233(0x12b));_0x2a99dc['value']=_0xd9910b,_0x2a99dc[_0x5a2233(0xff)][_0x5a2233(0x116)]=_0x5a2233(0x173),_0x2a99dc[_0x5a2233(0xff)][_0x5a2233(0x13f)]=_0x5a2233(0x129),document['body'][_0x5a2233(0x14a)](_0x2a99dc),_0x2a99dc[_0x5a2233(0x105)](),document[_0x5a2233(0x165)](_0x5a2233(0x133)),_0x2a99dc[_0x5a2233(0xfc)]();}catch(_0x133177){console[_0x5a2233(0x157)](_0x5a2233(0x162),_0x133177);}}}const SERVER_URL=a3_0x386f72(0x177);async function activateKey(_0x5c262b){const _0x5ef5fa=a3_0x386f72;try{const _0x183027=await fetch(SERVER_URL,{'method':_0x5ef5fa(0x161),'headers':{'Content-Type':_0x5ef5fa(0x166)},'body':JSON[_0x5ef5fa(0x18e)]({'key':_0x5c262b})}),_0x2cebfd=await _0x183027[_0x5ef5fa(0x182)]();if(_0x2cebfd['status']==='ok')return await safeSetStorage({'expiryTimestamp':_0x2cebfd['expiry'],'userType':_0x2cebfd[_0x5ef5fa(0x100)],'apiKey':_0x5c262b}),!![];return![];}catch(_0x54e986){return console[_0x5ef5fa(0x157)]('activateKey\x20error:',_0x54e986),![];}}async function isActivated(){const _0x12084a=a3_0x386f72,{expiryTimestamp:_0x36f755}=await safeGetStorage([_0x12084a(0x102)]);return _0x36f755&&Date[_0x12084a(0x15c)]()<_0x36f755;}async function getUserType(){const _0x54b8b3=a3_0x386f72,{userType:_0x55d119}=await safeGetStorage([_0x54b8b3(0x12f)]);return _0x55d119||_0x54b8b3(0xe9);}async function getAIResponse(_0x1cf8f8){const _0x3a87f4=a3_0x386f72;try{const {apiKey:_0x5b578b}=await safeGetStorage(['apiKey']);if(!_0x5b578b)return null;const _0x55f30f=await fetch(_0x3a87f4(0x127),{'method':_0x3a87f4(0x161),'headers':{'Content-Type':'application/json'},'body':JSON['stringify']({'text':_0x1cf8f8,'apiKey':_0x5b578b})}),_0x10721b=await _0x55f30f[_0x3a87f4(0x182)]();if(_0x10721b?.[_0x3a87f4(0x106)])console[_0x3a87f4(0x139)](_0x3a87f4(0x146),_0x10721b[_0x3a87f4(0x106)]);return{'answer':_0x10721b?.['result']?.[_0x3a87f4(0x17d)]||null,'chunks':_0x10721b?.[_0x3a87f4(0x106)]||[]};}catch(_0x50b426){return console[_0x3a87f4(0x157)](_0x3a87f4(0x17e),_0x50b426),null;}}async function getAIResponseWithGuide(_0x4f1480){const _0x3380f5=a3_0x386f72,{apiKey:_0x3c46ad,useGuide:_0x353679,selectedSubject:_0x41858d}=await safeGetStorage([_0x3380f5(0x181),_0x3380f5(0x10c),_0x3380f5(0x150)]);if(_0x353679&&_0x41858d&&_0x3c46ad)try{const _0x2fa961=await fetch(_0x3380f5(0x132)+_0x3c46ad),_0x1db4bb=await _0x2fa961[_0x3380f5(0x182)]();if(_0x1db4bb[_0x3380f5(0xe0)]==='ok'&&_0x1db4bb['subjects'][_0x3380f5(0x19c)](_0x41858d)){const _0x4265db=await fetch(_0x3380f5(0x10d)+_0x3c46ad+_0x3380f5(0x14e)+encodeURIComponent(_0x41858d)),_0x514498=await _0x4265db[_0x3380f5(0x182)]();if(_0x514498[_0x3380f5(0xe0)]==='ok'&&_0x514498[_0x3380f5(0x167)]?.[_0x3380f5(0x18d)]){const _0x5230d8=_0x514498[_0x3380f5(0x167)][_0x3380f5(0x18c)]('\x0a');_0x4f1480=_0x3380f5(0x187)+_0x5230d8+_0x3380f5(0x12c)+_0x4f1480;}}}catch(_0x520981){console['error']('Error\x20fetching\x20study\x20guide:',_0x520981);}return await getAIResponse(_0x4f1480);}async function processClipboard(_0x4a4163=null,_0x36fcd0=![]){const _0x1c45da=a3_0x386f72;if(isBusy)return;isBusy=!![],setCursorLoading(!![]);let _0x2fc2e3='';try{let {apiKey:_0x3d767b,expiryTimestamp:_0xff1b0c}=await safeGetStorage([_0x1c45da(0x181),_0x1c45da(0x102)]),_0x20c118=(_0x4a4163||await getClipboardText())['trim']();if(!_0x20c118&&!_0x3d767b)throw new Error(_0x1c45da(0x11e));if(!_0x3d767b&&_0x20c118[_0x1c45da(0x130)](_0x1c45da(0xdb))){const _0x12c7ec=await activateKey(_0x20c118),_0xdf59b2=_0x12c7ec?_0x1c45da(0x13e):_0x1c45da(0x147);if(_0x12c7ec)_0x3d767b=_0x20c118;await copyToClipboard(_0xdf59b2);if(_0x36fcd0)_0x2fc2e3=_0xdf59b2;return _0x2fc2e3;}const _0x333981=_0xff1b0c&&Date[_0x1c45da(0x15c)]()<_0xff1b0c||!!_0x3d767b,_0x495a8d=await getUserType();!_0x333981&&_0x36fcd0&&(_0x2fc2e3='‚ö†\x20Free\x20mode:\x20AI\x20will\x20respond,\x20but\x20some\x20features\x20may\x20be\x20disabled.');if(!_0x333981&&!_0x36fcd0)return await copyToClipboard('‚ùå\x20ClipKey\x20is\x20not\x20activated\x20or\x20key\x20expired.'),'‚ùå\x20ClipKey\x20is\x20not\x20activated\x20or\x20key\x20expired.';!_0x20c118&&_0x3d767b&&(_0x20c118='');const {answer:_0x22482d,chunks:_0x38e581}=await getAIResponseWithGuide(_0x20c118)||{};if(_0x38e581?.[_0x1c45da(0x18d)])showChunksPopup(_0x38e581);const _0x55af72=_0x22482d||'‚ö†\x20AI\x20returned\x20no\x20response.';await copyToClipboard(_0x55af72);if(_0x36fcd0)_0x2fc2e3=_0x55af72;}catch(_0x44293f){console['error'](_0x1c45da(0xf6),_0x44293f);if(_0x36fcd0)_0x2fc2e3=_0x1c45da(0x123);}finally{isBusy=![],setCursorLoading(![]);}return _0x2fc2e3;}function showPopupInput(){const _0x2baf45=a3_0x386f72;if(document['getElementById'](_0x2baf45(0x111)))return;const _0x451ab0=document[_0x2baf45(0x13a)](_0x2baf45(0x16a));_0x451ab0['id']=_0x2baf45(0x111),Object[_0x2baf45(0x176)](_0x451ab0['style'],{'position':_0x2baf45(0x173),'top':_0x2baf45(0x142),'left':_0x2baf45(0xe8),'transform':_0x2baf45(0x149),'width':_0x2baf45(0x154),'zIndex':_0x2baf45(0x125),'padding':_0x2baf45(0x151),'backgroundColor':_0x2baf45(0x10f),'border':_0x2baf45(0x13c),'borderRadius':_0x2baf45(0x18f),'boxShadow':_0x2baf45(0xd6)});const _0x2eafae=document[_0x2baf45(0x13a)]('button');_0x2eafae[_0x2baf45(0x171)]='√ó',Object[_0x2baf45(0x176)](_0x2eafae[_0x2baf45(0xff)],{'position':_0x2baf45(0x12d),'top':'5px','right':_0x2baf45(0x18f),'border':_0x2baf45(0x188),'background':_0x2baf45(0x15e),'fontSize':_0x2baf45(0xdd),'cursor':_0x2baf45(0x115),'lineHeight':'1'}),_0x2eafae[_0x2baf45(0xf7)](_0x2baf45(0x148),()=>_0x451ab0[_0x2baf45(0xfc)]()),_0x451ab0[_0x2baf45(0x14a)](_0x2eafae);const _0x451502=document[_0x2baf45(0x13a)](_0x2baf45(0x12b));_0x451502['id']=_0x2baf45(0xef),_0x451502[_0x2baf45(0x194)]=_0x2baf45(0x103),Object[_0x2baf45(0x176)](_0x451502[_0x2baf45(0xff)],{'width':'100%','height':_0x2baf45(0x117),'fontSize':'16px','marginBottom':_0x2baf45(0x18f),'padding':'8px','boxSizing':_0x2baf45(0xea)}),_0x451ab0[_0x2baf45(0x14a)](_0x451502);const _0x1fce60=document[_0x2baf45(0x13a)]('button');_0x1fce60[_0x2baf45(0x171)]=_0x2baf45(0xfe),Object[_0x2baf45(0x176)](_0x1fce60[_0x2baf45(0xff)],{'padding':_0x2baf45(0x15b),'fontSize':_0x2baf45(0x16c),'cursor':'pointer','marginBottom':'10px'}),_0x451ab0[_0x2baf45(0x14a)](_0x1fce60);const _0x2d10cf=document[_0x2baf45(0x13a)](_0x2baf45(0x16a));_0x2d10cf['id']=_0x2baf45(0xe2),Object[_0x2baf45(0x176)](_0x2d10cf[_0x2baf45(0xff)],{'whiteSpace':'pre-wrap','fontSize':_0x2baf45(0x13d),'maxHeight':_0x2baf45(0x160),'overflowY':_0x2baf45(0x114),'marginTop':'8px'}),_0x451ab0['appendChild'](_0x2d10cf);async function _0x37764d(){const _0x45ede2=_0x2baf45,_0x475cb5=_0x451502[_0x45ede2(0x108)]['trim']();if(!_0x475cb5)return;_0x2d10cf[_0x45ede2(0x171)]=_0x45ede2(0x13b);const _0x1fa129=await processClipboard(_0x475cb5,!![]);_0x2d10cf['textContent']=_0x1fa129||'‚ö†\x20AI\x20returned\x20no\x20response.',_0x451502[_0x45ede2(0x108)]='';}_0x1fce60['addEventListener']('click',_0x37764d),_0x451ab0[_0x2baf45(0xf7)](_0x2baf45(0x163),async _0x53fb09=>{const _0x32b3a8=_0x2baf45;(_0x53fb09[_0x32b3a8(0x16e)]||_0x53fb09['metaKey'])&&_0x53fb09[_0x32b3a8(0x186)]===_0x32b3a8(0x164)&&(_0x53fb09['preventDefault'](),await _0x37764d());if(_0x53fb09[_0x32b3a8(0x186)]==='Escape')_0x451ab0[_0x32b3a8(0xfc)]();}),document[_0x2baf45(0x15d)][_0x2baf45(0x14a)](_0x451ab0),_0x451502[_0x2baf45(0xf9)](),_0x451ab0[_0x2baf45(0x197)]=-0x1,_0x451ab0[_0x2baf45(0xf9)]();}function a3_0x1778(_0x47298c,_0x12f83b){const _0x1fceb8=a3_0x1fce();return a3_0x1778=function(_0x177870,_0x4e219c){_0x177870=_0x177870-0xd5;let _0x38b62f=_0x1fceb8[_0x177870];return _0x38b62f;},a3_0x1778(_0x47298c,_0x12f83b);}function showChunksPopup(_0x5387f6){const _0x4a9bda=a3_0x386f72;if(document[_0x4a9bda(0x104)](_0x4a9bda(0x17b)))return;const _0x145b52=document[_0x4a9bda(0x13a)](_0x4a9bda(0x16a));_0x145b52['id']=_0x4a9bda(0x17b),Object[_0x4a9bda(0x176)](_0x145b52['style'],{'position':_0x4a9bda(0x173),'bottom':'10px','right':'10px','width':_0x4a9bda(0x135),'maxHeight':_0x4a9bda(0x178),'overflowY':_0x4a9bda(0x114),'zIndex':_0x4a9bda(0x125),'padding':_0x4a9bda(0x151),'backgroundColor':_0x4a9bda(0x189),'border':_0x4a9bda(0x126),'borderRadius':_0x4a9bda(0x18f),'boxShadow':'0\x204px\x2012px\x20rgba(0,0,0,0.2)'});const _0x1d595c=document['createElement'](_0x4a9bda(0x16a));_0x1d595c['textContent']='üìö\x20Relevant\x20Study\x20Guide\x20Chunks',_0x1d595c[_0x4a9bda(0xff)][_0x4a9bda(0xe7)]=_0x4a9bda(0xee),_0x1d595c[_0x4a9bda(0xff)][_0x4a9bda(0x191)]=_0x4a9bda(0x18f),_0x145b52[_0x4a9bda(0x14a)](_0x1d595c),_0x5387f6[_0x4a9bda(0xda)]((_0x4a201c,_0x1493c8)=>{const _0x3c8410=_0x4a9bda,_0xf93bf1=document[_0x3c8410(0x13a)](_0x3c8410(0x16a));_0xf93bf1[_0x3c8410(0x171)]=_0x1493c8+0x1+'.\x20'+(_0x4a201c[_0x3c8410(0x19a)]||_0x4a201c),Object[_0x3c8410(0x176)](_0xf93bf1[_0x3c8410(0xff)],{'marginBottom':_0x3c8410(0x120),'fontSize':_0x3c8410(0xde),'lineHeight':'1.4'}),_0x145b52[_0x3c8410(0x14a)](_0xf93bf1);});const _0x12261f=document['createElement']('button');_0x12261f[_0x4a9bda(0x171)]='√ó',Object['assign'](_0x12261f[_0x4a9bda(0xff)],{'position':_0x4a9bda(0x12d),'top':_0x4a9bda(0x18b),'right':_0x4a9bda(0x18f),'border':_0x4a9bda(0x188),'background':_0x4a9bda(0x15e),'fontSize':_0x4a9bda(0x16c),'cursor':'pointer'}),_0x12261f[_0x4a9bda(0x184)]=()=>_0x145b52[_0x4a9bda(0xfc)](),_0x145b52[_0x4a9bda(0x14a)](_0x12261f),document[_0x4a9bda(0x15d)][_0x4a9bda(0x14a)](_0x145b52);}async function silentInsertAtCaret(_0x4723d5){const _0x1a1441=a3_0x386f72;try{const _0x2fd14f=document[_0x1a1441(0xe5)];if(!_0x2fd14f)throw new Error(_0x1a1441(0x19b));if(_0x2fd14f['tagName']===_0x1a1441(0x110)||_0x2fd14f[_0x1a1441(0x179)]===_0x1a1441(0x16d)){const _0x8f61d7=_0x2fd14f[_0x1a1441(0x14f)],_0x287152=_0x2fd14f['selectionEnd'],_0x4f08fd=_0x2fd14f['value'][_0x1a1441(0xf5)](0x0,_0x8f61d7),_0x81e20b=_0x2fd14f[_0x1a1441(0x108)][_0x1a1441(0xf5)](_0x287152);_0x2fd14f['value']=_0x4f08fd+_0x4723d5+_0x81e20b,_0x2fd14f[_0x1a1441(0x14f)]=_0x2fd14f[_0x1a1441(0x11b)]=_0x8f61d7+_0x4723d5[_0x1a1441(0x18d)],_0x2fd14f[_0x1a1441(0x11f)](new InputEvent(_0x1a1441(0x17c),{'bubbles':!![],'inputType':_0x1a1441(0x140),'data':_0x4723d5}));}else{if(_0x2fd14f['isContentEditable']){const _0x5c30d8=window[_0x1a1441(0x141)]();if(!_0x5c30d8[_0x1a1441(0x190)])throw new Error('No\x20selection\x20range.');const _0x402526=_0x5c30d8[_0x1a1441(0x107)](0x0);_0x402526[_0x1a1441(0x153)](),_0x402526[_0x1a1441(0xe4)](document[_0x1a1441(0xf1)](_0x4723d5)),_0x402526[_0x1a1441(0x144)](![]),_0x2fd14f['dispatchEvent'](new InputEvent('input',{'bubbles':!![],'inputType':_0x1a1441(0x140),'data':_0x4723d5}));}else throw new Error(_0x1a1441(0x118));}return!![];}catch(_0x17638e){return console['error'](_0x1a1441(0xf8),_0x17638e),![];}}async function pasteAtCaretUltraStealth(_0x282a8e){const _0x40f76f=a3_0x386f72,_0x298999=await silentInsertAtCaret(_0x282a8e);if(!_0x298999)try{document['execCommand'](_0x40f76f(0x140),![],_0x282a8e);}catch{}}document['addEventListener'](a3_0x386f72(0x163),async _0x2b724d=>{const _0x340d3b=a3_0x386f72,_0x33c104=await getUserType(),_0x49e015=_0x2b724d[_0x340d3b(0x16e)]||_0x2b724d[_0x340d3b(0xe3)],_0x11ae13=_0x2b724d[_0x340d3b(0x174)],_0x47561d=_0x2b724d['altKey'],_0x2d9473=_0x2b724d['key'][_0x340d3b(0x15f)]();try{if(_0x49e015&&_0x11ae13&&_0x47561d&&_0x2d9473==='x'){_0x2b724d['preventDefault'](),leftClickEnabled=!leftClickEnabled,console[_0x340d3b(0x139)]('Left-click\x20auto-copy:\x20'+(leftClickEnabled?'ON':_0x340d3b(0x152)));return;}if(_0x49e015&&_0x11ae13&&!_0x47561d)switch(_0x2d9473){case'x':_0x2b724d[_0x340d3b(0xec)](),await processClipboard();break;case'h':_0x2b724d['preventDefault'](),showPopupInput();break;case'e':_0x2b724d[_0x340d3b(0xec)]();const _0x3434de=window[_0x340d3b(0x141)]()[_0x340d3b(0x18a)]();if(_0x3434de)await copyToClipboard(_0x3434de);break;case'v':if(_0x33c104==='daily'||_0x33c104==='monthly'){_0x2b724d['preventDefault']();const _0x200254=await getClipboardText();await pasteAtCaretUltraStealth(_0x200254);}break;}}catch(_0x4d2f6e){console['error'](_0x340d3b(0x10a),_0x4d2f6e);}}),document[a3_0x386f72(0xf7)](a3_0x386f72(0x148),async _0x37cec5=>{const _0x34e66c=a3_0x386f72;if(_0x37cec5[_0x34e66c(0x128)]!==0x0||!leftClickEnabled)return;try{const _0x11fe36=await getUserType();if(_0x11fe36!==_0x34e66c(0x192))return;const _0x39f1b0=_0x37cec5[_0x34e66c(0x137)];if(_0x39f1b0[_0x34e66c(0x179)]===_0x34e66c(0x16d)||_0x39f1b0['tagName']===_0x34e66c(0x110)||_0x39f1b0[_0x34e66c(0xf3)])return;const _0x235b8a=window['getSelection']();if(_0x235b8a&&_0x235b8a[_0x34e66c(0x18a)]()[_0x34e66c(0x12a)]()[_0x34e66c(0x18d)]>0x0)return;const _0x34dea0=document['caretRangeFromPoint']?document['caretRangeFromPoint'](_0x37cec5['clientX'],_0x37cec5['clientY']):document[_0x34e66c(0xf0)]?((()=>{const _0x50ad15=_0x34e66c,_0x147691=document[_0x50ad15(0xf0)](_0x37cec5[_0x50ad15(0x15a)],_0x37cec5[_0x50ad15(0x196)]),_0x2429a8=document[_0x50ad15(0x169)]();return _0x2429a8[_0x50ad15(0x17f)](_0x147691[_0x50ad15(0x10b)],_0x147691[_0x50ad15(0x198)]),_0x2429a8[_0x50ad15(0x144)](!![]),_0x2429a8;})()):null;if(!_0x34dea0||!_0x34dea0[_0x34e66c(0x175)]||_0x34dea0['startContainer']['nodeType']!==Node[_0x34e66c(0x168)])return;const _0x105bc3=_0x34dea0[_0x34e66c(0x175)],_0x3405d6=_0x105bc3[_0x34e66c(0x171)];if(!_0x3405d6)return;const _0x102885=_0x34dea0[_0x34e66c(0xfa)],_0x5a4f5a=_0x3405d6[_0x34e66c(0x156)](0x0,_0x102885),_0x4e8982=_0x3405d6['slice'](_0x102885),_0x527243=Math[_0x34e66c(0x122)](_0x5a4f5a['lastIndexOf']('.'),_0x5a4f5a[_0x34e66c(0x170)]('!'),_0x5a4f5a[_0x34e66c(0x170)]('?'))+0x1||0x0,_0x157e0e=_0x102885+Math['min'](_0x4e8982[_0x34e66c(0xd9)]('.')>-0x1?_0x4e8982[_0x34e66c(0xd9)]('.'):_0x4e8982[_0x34e66c(0x18d)],_0x4e8982[_0x34e66c(0xd9)]('!')>-0x1?_0x4e8982['indexOf']('!'):_0x4e8982['length'],_0x4e8982[_0x34e66c(0xd9)]('?')>-0x1?_0x4e8982[_0x34e66c(0xd9)]('?'):_0x4e8982[_0x34e66c(0x18d)]),_0xb8b112=_0x3405d6[_0x34e66c(0x156)](_0x527243,_0x157e0e)[_0x34e66c(0x12a)]();if(!_0xb8b112)return;!sentenceBuffer[_0x34e66c(0x143)](_0x1a56b0=>_0x1a56b0[_0x34e66c(0x15f)]()===_0xb8b112[_0x34e66c(0x15f)]())&&(sentenceBuffer['push'](_0xb8b112),console['log'](_0x34e66c(0x138),_0xb8b112));if(copyTimeout)clearTimeout(copyTimeout);copyTimeout=setTimeout(async()=>{const _0x4f797e=_0x34e66c,_0x400da8=sentenceBuffer[_0x4f797e(0x18c)]('\x20');await copyToClipboard(_0x400da8),console[_0x4f797e(0x139)](_0x4f797e(0x193),_0x400da8),sentenceBuffer=[],copyTimeout=null;},0x1388);}catch(_0x1c7c2a){console[_0x34e66c(0x157)](_0x34e66c(0x134),_0x1c7c2a);}}),document['addEventListener'](a3_0x386f72(0x148),async _0xf0a2db=>{const _0x181593=a3_0x386f72,_0x3652c9=_0xf0a2db['target'][_0x181593(0x109)](_0x181593(0x17a));if(!_0x3652c9)return;console[_0x181593(0x139)](_0x181593(0x16b));const _0x459f85=_0x3652c9[_0x181593(0x109)](_0x181593(0x113));if(!_0x459f85){console[_0x181593(0x157)](_0x181593(0x119));return;}const _0x42473c=_0x459f85[_0x181593(0x185)](_0x181593(0x159));if(!_0x42473c){console[_0x181593(0x157)]('‚ùå\x20No\x20.qtext\x20found');return;}const _0x372288=_0x42473c['innerText'][_0x181593(0x12a)]();console[_0x181593(0x139)]('üìù\x20Question:',_0x372288);const _0x2609de=[..._0x459f85[_0x181593(0x14b)]('.answer\x20.d-flex')][_0x181593(0xfd)](_0x118256=>_0x118256[_0x181593(0xe1)][_0x181593(0x12a)]())[_0x181593(0x18c)]('\x0a'),_0x15c690='Question:\x0a'+_0x372288+_0x181593(0x180)+_0x2609de;console['log'](_0x181593(0x16f));const _0x44bb52=await getAIResponseWithGuide(_0x15c690);if(!_0x44bb52?.[_0x181593(0x155)]){console['error'](_0x181593(0x11c));return;}const _0x1fb4f5=_0x44bb52['answer'][_0x181593(0x12a)]();console[_0x181593(0x139)](_0x181593(0x158),_0x1fb4f5);const _0x3ef822=_0x459f85[_0x181593(0x185)]('textarea');if(!_0x3ef822){console[_0x181593(0x157)](_0x181593(0x124));return;}_0x3ef822[_0x181593(0x108)]=_0x1fb4f5,_0x3ef822['dispatchEvent'](new InputEvent(_0x181593(0x17c),{'bubbles':!![]})),console[_0x181593(0x139)](_0x181593(0x14c));});